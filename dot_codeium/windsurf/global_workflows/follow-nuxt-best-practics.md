---
trigger: always_on
---
\n\n\n### `shared/types/`\n- หน้าที่ กำหนดโครงสร้างข้อมูลหลักด้วย TypeScript Interfaces หรือ Types และ Schema สำหรับ Validation\n- Do\n    - ใช้ Zod, Valibot, หรือ ArkType เพื่อสร้าง Schema ที่ตรวจสอบความถูกต้องของข้อมูล\n    - Export Type และ Schema เพื่อให้ `composables` และ `server/api` นำไปใช้ได้\n- Don't\n    - ใส่ Logic การทำงานใดๆ ในไฟล์เหล่านี้\n\n\n### `shared/utils/`\n- หน้าที่ เก็บฟังก์ชันบริสุทธิ์ (Pure Functions) ที่ใช้ได้ทั้งฝั่ง Client และ Server\n- Do\n    - สร้างฟังก์ชันที่รับ Input และคืนค่า Output โดยไม่มี Side Effects\n    - เหมาะสำหรับฟังก์ชันจัดรูปแบบข้อมูล, คำนวณ, หรือจัดการข้อความ\n- Don't\n    - เรียกใช้ Browser/Node-specific APIs (เช่น `window` หรือ `process`)\n\n\n### `app/composables/`\n- หน้าที่ เป็นหัวใจของ Business Logic ฝั่ง Client, จัดการ State, และดึงข้อมูลจาก API\n- Do\n    - ตั้งชื่อด้วย `use...` (เช่น `useUser`, `useCart`)\n    - ใช้ `useFetch` หรือ `useAsyncData` สำหรับการดึงข้อมูล\n    - ใช้ `useState` สำหรับ State ง่ายๆ หรือ Pinia สำหรับ State ที่ซับซ้อน\n- Don't\n    - ใส่โค้ดที่จัดการ DOM โดยตรง (ควรทำใน Component)\n\n\n### `app/components/`\n- หน้าที่ สร้าง UI ที่นำกลับมาใช้ใหม่ได้\n- Do\n    - ออกแบบ Component ให้รับ Props และส่ง Events (Props in, Events out)\n    - จัดกลุ่มตาม Feature (เช่น `components/products/Card.vue`)\n    - ใช้ UnoCSS สำหรับ Styling เป็นหลัก\n- Don't\n    - ดึงข้อมูลโดยตรง (ควรทำผ่าน `composables`)\n    - ใส่ Business Logic ที่ซับซ้อน\n\n\n### `app/pages/`\n- หน้าที่ ประกอบ `components` และ `composables` เข้าด้วยกันเพื่อสร้างหน้าเว็บที่สมบูรณ์\n- Do\n    - เรียกใช้ `composables` เพื่อดึงข้อมูลและจัดการ State\n    - ส่งข้อมูลที่ได้ไปยัง `components` ผ่าน Props\n    - จัดการ Loading และ Error states\n- Don't\n    - เขียน UI ที่ซับซ้อนโดยตรง (ควรแยกเป็น Component)\n\n\n### `server/api/`\n- หน้าที่ สร้าง API Endpoints เพื่อจัดการข้อมูลฝั่ง Server\n- Do\n    - ใช้ `defineEventHandler` เพื่อสร้าง Route Handler\n    - อ่านและตรวจสอบข้อมูลนำเข้า (เช่น `body`, `params`) โดยใช้ Schema จาก `shared/types/`\n    - แยก Logic ที่ซับซ้อน (เช่น การติดต่อฐานข้อมูล) ไปไว้ใน `server/utils/`\n- Don't\n    - เขียน Business Logic ทั้งหมดลงในไฟล์เดียว
